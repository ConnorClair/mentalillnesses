<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Site Search</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        input { width: 300px; padding: 8px; }
        button { padding: 8px; cursor: pointer; }
        #results { margin-top: 20px; }
    </style>
</head>
<body>
    <h2>Site Search</h2>
    <input type="text" id="searchBox" placeholder="Enter keyword or phrase">
    <button onclick="searchSite()">Search</button>
    <div id="results"></div>
    
    <script>
        async function searchSite() {
            const query = document.getElementById('searchBox').value.toLowerCase();
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = '';
            
            if (!query) return;
            
            const pages = [
                'index.html',
                'pages/sm.html',
                'pages/gad.html',
                'pages/ddd.html',
                'pages/bpd.html',
                'pages/ago.html'
            ];
            
            let results = [];
            for (let page of pages) {
                try {
                    const response = await fetch(page);
                    if (!response.ok) continue;
                    const text = await response.text();
                    if (text.toLowerCase().includes(query)) {
                        results.push(`<li><a href="${page}" target="_blank">${page}</a></li>`);
                    }
                } catch (error) {
                    console.warn('Could not fetch', page);
                }
            }
            
            resultsDiv.innerHTML = results.length 
                ? `<ul>${results.join('')}</ul>`
                : '<p>No results found.</p>';
        }
    </script>
</body>
</html>
